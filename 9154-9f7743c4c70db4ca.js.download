"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9154],{20685:(e,r,t)=>{t.d(r,{o:()=>o});var a=t(7336),l=t(80644),s=t(4495),n=t(49388);let o=(0,l.forwardRef)((e,r)=>{let{maxHeight:t=384,minHeight:o=42,className:c,resizeFunctionRef:i,...d}=e,u=(0,l.useRef)(null);(0,l.useImperativeHandle)(r,()=>u.current);let p=(0,l.useCallback)(()=>{let e=u.current;if(!e)return;e.style.height="".concat(o,"px");let r=e.scrollHeight;e.style.height="".concat(Math.max(o,Math.min(r,t)),"px")},[t,o]);(0,l.useImperativeHandle)(i,()=>p);let j=(0,l.useCallback)(e=>{var r;p(),u.current&&(null===(r=d.onChange)||void 0===r||r.call(d,e))},[d,p]);return(0,l.useEffect)(()=>{let e=new MutationObserver(p);return u.current&&e.observe(u.current,{characterData:!0,subtree:!0}),()=>e.disconnect()},[j,p]),(0,n.wY)({ref:u,onResize:p}),(0,l.useEffect)(()=>{p()},[p]),(0,a.jsx)("textarea",{...d,className:(0,s.cn)("resize-none overflow-auto",c),autoComplete:"off",onChange:j,"data-1p-ignore":!0,"data-dashlane-disabled-on-field":!0,ref:u,style:{...d.style,minHeight:"".concat(o,"px"),maxHeight:"".concat(t,"px")}})});o.displayName="ResizableTextArea"},30919:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f,useRenameProjectModal:()=>x});var a=t(7336),l=t(81616),s=t(38559),n=t(59103),o=t(60358),c=t(52220),i=t(80644),d=t(15993),u=t(2115),p=t(58146),j=t(88551),h=t(10299),m=t(45419);function f(){let{projectId:e,projectName:r,setProject:t}=x(),{updateProjectName:n}=(0,m.OT)(),[f,v]=(0,i.useState)(r||""),b=(0,h.useRouter)();return((0,i.useEffect)(()=>{v(r||"")},[r]),e)?(0,a.jsx)(s.Modal,{onOpenChange:e=>!e&&t(null),open:!0,children:(0,a.jsxs)("form",{action:async()=>{(0,u.u)("ClickRenameProject",{targetProjectId:e});try{n(f);let t=await (0,p.o)({projectId:e,name:f});if("success"in t)d.oR.success("Renamed project");else if(t.error)throw n(r||""),Error(t.error)}catch(e){(0,j.z)(e,b,"Failed to rename project")||d.oR.error("Failed to rename project")}await t(null)},"data-testid":"rename-project-form",children:[(0,a.jsxs)(s.ModalHeader,{children:[(0,a.jsx)(s.ModalTitle,{children:"Rename Project"}),(0,a.jsx)(c.p,{autoFocus:!0,"data-testid":"rename-project-input",onChange:e=>v(e.target.value),value:f})]}),(0,a.jsxs)(s.ModalFooter,{children:[(0,a.jsx)(s.ModalClose,{asChild:!0,children:(0,a.jsx)(l.$,{onClick:()=>t(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,a.jsx)(o.Q,{"data-testid":"save-rename-project",size:"sm",variant:"default",children:"Save"})]})]})}):null}function x(){let{data:e,mutate:r}=(0,n.Ay)("renameProjectModal",null);return{projectId:null==e?void 0:e.projectId,projectName:null==e?void 0:e.projectName,setProject:r}}},35330:(e,r,t)=>{t.d(r,{BT:()=>i,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>o,wL:()=>u});var a=t(7336),l=t(80644),s=t(4495);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("shadow-base bg-background-subtle rounded-lg",t),ref:r,...l})});n.displayName="Card";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("grid gap-4",t),ref:r,...l})});o.displayName="CardHeader",l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("bg-background mb-4 flex h-8 w-8 items-center justify-center rounded-lg border [&>svg]:size-4",t),ref:r,...l})}).displayName="CardIcon";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("h3",{className:(0,s.cn)("whitespace-nowrap font-medium leading-none tracking-tight",t),ref:r,...l})});c.displayName="CardTitle";let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("p",{className:(0,s.cn)("text-muted-foreground text-sm",t),ref:r,...l})});i.displayName="CardDescription";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("p-6 pt-0",t),ref:r,...l})});d.displayName="CardContent";let u=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)(" flex items-center p-6 pt-0",t),ref:r,...l})});u.displayName="CardFooter"},35399:(e,r,t)=>{t.d(r,{FeedbackDialog:()=>y,f:()=>g});var a=t(7336),l=t(59103),s=t(4495),n=t(93293),o=t(33400),c=t(34142),i=t(98898),d=t(71279),u=t(80644),p=t(15993),j=t(30009);let h=(0,j.createServerReference)("40a7b572cd5e9622d15fc92958a0ebb0045ab20618",j.callServer,void 0,j.findSourceMapURL,"sendGeneralFeedback");var m=t(26939),f=t(81616),x=t(38559),v=t(67952),b=t(20685);function g(){let{data:e,mutate:r}=(0,l.Ay)("feedback-dialog-show",null,{fallbackData:!1});return{showFeedbackDialog:e,setFeedbackDialog:r}}function y(){let e=(0,v.k)("feedbackDialog"),{showFeedbackDialog:r,setFeedbackDialog:t}=g(),[l,s]=(0,u.useState)(""),[n,o]=(0,u.useState)(void 0),[c,i]=(0,u.useState)(),d=(e,r)=>{r&&(s(""),o(void 0),i(void 0)),t(e)};return(0,a.jsxs)(x.Modal,{onOpenChange:d,open:r,children:[(0,a.jsxs)(x.ModalHeader,{children:[(0,a.jsx)(x.ModalTitle,{children:e("title")}),(0,a.jsx)(x.ModalDescription,{children:e("description")})]}),(0,a.jsx)(x.ModalContent,{children:(0,a.jsx)(C,{feedback:l,selectedOption:n,setFeedback:s,setFeedbackDialog:d,setSelectedOption:o,setValidationError:i,validationError:c})})]})}function N(e){let{children:r,selectedOption:t,option:l,handleOptionClick:n}=e;return(0,a.jsx)(f.$,{className:(0,s.cn)("transition-all duration-300",t===l&&"border-gray-900 hover:border-gray-900 focus:border-gray-900 focus-visible:border-gray-900"),onClick:()=>n(l),size:"sm",type:"button",variant:"secondary",children:r})}function C(e){let{feedback:r,setFeedback:t,selectedOption:l,setSelectedOption:u,validationError:j,setValidationError:g,setFeedbackDialog:y}=e,C=(0,v.k)("feedbackDialog"),{user:w}=(0,m.J)(),S=e=>{e&&u(e),g(void 0)},{formRef:R,onKeyDown:M}=(0,d.G)();return(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:e=>{if(e.preventDefault(),""===r.trim()){g(C("error.enterFeedback"));return}if(!l){g(C("error.selectEmoji"));return}h({feedback:r,url:location.href,sentiment:l,user:w}),y(!1,!0),(0,p.oR)(C("successToast"))},ref:R,children:[(0,a.jsx)(i.T,{asChild:!0,children:(0,a.jsx)(b.o,{maxHeight:224,minHeight:80,name:"feedback",onKeyDown:M,placeholder:C("yourFeedback"),spellCheck:!1,onChange:e=>t(e.target.value),value:r})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-start gap-2",children:[(0,a.jsx)(N,{handleOptionClick:S,option:"bad",selectedOption:l,children:(0,a.jsx)(n.A,{className:(0,s.cn)("size-4",{"dark:fill-red-400/80 fill-red-200":"bad"===l})})}),(0,a.jsx)(N,{handleOptionClick:S,option:"neutral",selectedOption:l,children:(0,a.jsx)(o.A,{className:(0,s.cn)("size-4",{"dark:fill-amber-500/70 fill-yellow-200":"neutral"===l})})}),(0,a.jsx)(N,{handleOptionClick:S,option:"good",selectedOption:l,children:(0,a.jsx)(c.A,{className:(0,s.cn)("size-4",{"dark:fill-green-500/60 fill-green-200":"good"===l})})}),(0,a.jsx)("div",{children:j&&(0,a.jsx)("div",{className:"text-sm text-red-700",role:"alert",children:j})})]}),(0,a.jsxs)(x.ModalFooter,{className:"p-0 md:p-0",children:[(0,a.jsx)(x.ModalClose,{asChild:!0,children:(0,a.jsx)(f.$,{size:"sm",type:"button",variant:"secondary",children:C("cancel")})}),(0,a.jsx)(f.$,{size:"sm",type:"submit",children:C("submit")})]})]})]})}},45419:(e,r,t)=>{t.d(r,{LP:()=>j,M9:()=>c,OT:()=>h,Ok:()=>p,_t:()=>i,kL:()=>d,py:()=>u});var a=t(59103),l=t(80644),s=t(20287),n=t(22931),o=t(76073);function c(){let{data:e,mutate:r}=(0,a.Ay)("project:id");return{projectId:e,setProjectId:r}}function i(){let{data:e,mutate:r}=(0,a.Ay)("projects:for-user"),t=(0,l.useCallback)(e=>{r(r=>({selectedProjectId:e,projects:(null==r?void 0:r.projects)||[]})),s.A.set(n.PR,e||"",{expires:n.Cy})},[r]);return{projects:(null==e?void 0:e.projects)||[],selectedProjectId:(null==e?void 0:e.selectedProjectId)||null,setSelectedProjectId:t}}function d(e,r){let{projectId:t}=c(),l=e||t,{data:s,isLoading:n,mutate:o,error:i}=(0,a.Ay)(l?["project:instructions",l]:null,{shouldRetryOnError:!1,revalidateIfStale:!0,revalidateOnMount:!0,fallbackData:r||""});return{instructions:s||"",updateInstructions:o,isLoading:n,error:i}}function u(e){let{activeScopeSlug:r}=(0,o.k6)(),{projectId:t}=c(),s=e||t,{data:n,mutate:i,error:d,isValidating:u}=(0,a.Ay)(s?["project:sources",s]:null,async()=>{if(!s)throw Error("No project ID");let e=new URLSearchParams;e.set("projectId",s);let r=await fetch("/chat/api/projects/sources?".concat(e.toString()),{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to load project sources");let t=await r.json();if(!t)throw Error("Failed to load project sources");return t},{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,refreshInterval:e=>500*(null!=e&&!!e.some(e=>"processing"===e.status&&!e.isOptimistic))}),p=!!d;(0,l.useEffect)(()=>{p&&console.error("Failed to load project sources:",d)},[p,d]);let j=(0,l.useCallback)(()=>{i()},[i]);return{sources:n||[],setSources:i,revalidateSources:j,isLoading:!n&&!d&&!!s&&!!r,isValidating:u}}function p(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{revalidateOnMount:!1},{data:t,isLoading:l,mutate:s,error:n}=(0,a.Ay)(e?["project:vercel-project",e]:null,async()=>{let r=await fetch("/chat/api/projects/vercel?projectId=".concat(e));return await r.json()},{revalidateOnFocus:!1,revalidateIfStale:!0,revalidateOnMount:r.revalidateOnMount});return{vercelProjectWithDashboard:t?{project:t.project,dashboardProject:t.dashboardProject,prodBlockInfo:t.prodBlockInfo}:null,envVars:null==t?void 0:t.envVars,isLoading:l,error:n,refetchVercelProject:s}}function j(){let{data:e}=(0,a.Ay)("project:can-make-project-updates");return e||!1}function h(){let{data:e,mutate:r}=(0,a.Ay)("project:name");return{projectName:e||"Untitled Project",updateProjectName:r}}},58146:(e,r,t)=>{t.d(r,{o:()=>l});var a=t(30009);let l=(0,a.createServerReference)("401677b26cbd7c79e29fb1a2399249eafa9cfb9da2",a.callServer,void 0,a.findSourceMapURL,"renameProject")},60358:(e,r,t)=>{t.d(r,{Q:()=>y,default:()=>g});var a=t(7336),l=t(80644),s=t(81616),n=t(52220),o=t(98898),c=t(35330),i=t(15066),d=t(30009);let u=(0,d.createServerReference)("7082999cca83a0568fad91fd192e54f3cbeb14cc4e",d.callServer,void 0,d.findSourceMapURL,"updateProjectNameAndDescription"),p=(0,d.createServerReference)("60c650fffaa073eee3b4119452ad700cb6d0307543",d.callServer,void 0,d.findSourceMapURL,"updateProjectSettingsInstructions"),j=(0,d.createServerReference)("607978c9b779013ceb0e996be29a8cd66c3828b94c",d.callServer,void 0,d.findSourceMapURL,"updateProjectSettingsOptions");var h=t(62239),m=t(97210),f=t(93125),x=t(15993),v=t(88551),b=t(20685);function g(e){var r,t,d,h;let{project:m,isAdmin:g}=e,[N,C]=(0,l.useState)(m.name),[w,S]=(0,l.useState)(m.description||""),[R,M]=(0,l.useState)((null===(r=m.settings)||void 0===r?void 0:r.instructions)||""),[k,I]=(0,l.useState)((null===(t=m.settings)||void 0===t?void 0:t.options)||""),[D,P]=(0,f.useDeleteProjectModal)(),[F,O]=(0,l.useTransition)(),T=(0,l.useCallback)(e=>{e.preventDefault(),F||O(async()=>{try{let e=await u(m.projectId,N,w);if(!0===e)x.oR.success("Project information updated.");else throw Error(e.error)}catch(e){(0,v.z)(e,void 0,"Failed to update project information.")||x.oR.error("Failed to update project information.")}})},[F,m.projectId,N,w]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{className:"p-6",children:[(0,a.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Project Information"}),(0,a.jsx)(c.BT,{className:"text-gray-900",children:"Update your project's name and description."})]}),(0,a.jsxs)("form",{onSubmit:T,children:[(0,a.jsxs)(c.Wu,{className:"grid auto-rows-min gap-4",children:[(0,a.jsxs)("div",{className:"relative grid w-full gap-2",children:[(0,a.jsx)(i.Label,{htmlFor:"projectName",children:"Project Name"}),(0,a.jsx)(n.p,{id:"projectName",onChange:e=>C(e.target.value),value:N})]}),(0,a.jsxs)("div",{className:"relative grid gap-2",children:[(0,a.jsx)(i.Label,{htmlFor:"projectDescription",children:"Description (optional)"}),(0,a.jsx)(o.T,{asChild:!0,children:(0,a.jsx)(b.o,{maxHeight:384,minHeight:80,name:"projectDescription",placeholder:"Describe what this project is for...",onChange:e=>S(e.target.value),value:w})})]})]}),(0,a.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,a.jsx)(y,{className:"ml-auto",disabled:F||N===m.name&&w===m.description,children:"Save"})})]})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{className:"p-6",children:[(0,a.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Instructions"}),(0,a.jsx)(c.BT,{className:"text-gray-900",children:"Guidelines or instructions the model will use to generate better responses to prompts."})]}),(0,a.jsxs)("form",{action:p.bind(null,m.projectId,R),children:[(0,a.jsx)(c.Wu,{className:"grid auto-rows-min gap-4",children:(0,a.jsxs)("div",{className:"relative grid gap-2",children:[(0,a.jsx)(i.Label,{className:"sr-only",htmlFor:"instructions",children:"Context"}),(0,a.jsx)(o.T,{asChild:!0,children:(0,a.jsx)(b.o,{id:"instructions",onChange:e=>M(e.target.value),placeholder:"e.g., This project is using App Router, Next.js and Tailwind CSS.",value:R,minHeight:80,maxHeight:192})})]})}),(0,a.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,a.jsx)(y,{className:"ml-auto",disabled:R===(null===(d=m.settings)||void 0===d?void 0:d.instructions),children:"Save"})})]})]}),g&&(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{className:"p-6",children:[(0,a.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Advanced Options (Admin Only)"}),(0,a.jsx)(c.BT,{className:"text-gray-900",children:"Customize the behavior of v0 using flags."})]}),(0,a.jsxs)("form",{action:j.bind(null,m.projectId,k),children:[(0,a.jsx)(c.Wu,{className:"relative grid auto-rows-min gap-4",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.Label,{className:"sr-only",htmlFor:"options",children:"Options"}),(0,a.jsx)(n.p,{id:"options",onChange:e=>I(e.target.value),placeholder:"stripe=1",value:k})]})}),(0,a.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,a.jsx)(y,{className:"ml-auto",disabled:k===(null===(h=m.settings)||void 0===h?void 0:h.options),children:"Save"})})]})]}),(0,a.jsxs)(c.Zp,{className:"border border-red-500",children:[(0,a.jsxs)(c.aR,{className:"gap-2.5 p-6",children:[(0,a.jsx)(c.ZB,{className:"text-xl",children:"Delete Project"}),(0,a.jsx)(c.BT,{className:"text-gray-900",children:"The project will be permanently deleted. All chats in this project will also be deleted. This action is irreversible and can not be undone."})]}),(0,a.jsx)(c.wL,{className:"rounded-b-lg border-t border-red-500 bg-red-100 px-6 py-4",children:(0,a.jsx)(s.$,{className:"ml-auto",onClick:()=>{P(m.projectId)},size:"sm",variant:"destructive",children:"Delete Project"})})]})]})}function y(e){let{children:r,...t}=e,{pending:l}=(0,h.useFormStatus)();return(0,a.jsx)(s.$,{...t,disabled:t.disabled||l,size:"sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[l?(0,a.jsx)(m.y,{size:16}):null,r]})})}},66052:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m,useRenameSourceModal:()=>f});var a=t(7336),l=t(81616),s=t(38559),n=t(59103),o=t(60358),c=t(52220),i=t(80644),d=t(15993),u=t(30009);let p=(0,u.createServerReference)("40b8835c98e016463ae27447c804c3ccbf86a605d4",u.callServer,void 0,u.findSourceMapURL,"renameSource");var j=t(2115),h=t(45419);function m(e){let{projectId:r}=e,{sourceId:t,sourceName:n,setSource:u}=f(),[m,x]=(0,i.useState)(n),{projectId:v}=(0,h.M9)(),b=r||v,{revalidateSources:g}=(0,h.py)(b);return((0,i.useEffect)(()=>{x(n)},[n]),t&&b)?(0,a.jsx)(s.Modal,{onOpenChange:e=>!e&&u(null),open:!!t,children:(0,a.jsxs)("form",{action:async()=>{(0,j.u)("ClickRenameSource",{targetSourceId:t});try{await p({sourceId:t,title:m,projectId:b}),g(),d.oR.success("Renamed source")}catch(e){d.oR.error("Failed to rename source")}await u(null)},children:[(0,a.jsxs)(s.ModalHeader,{children:[(0,a.jsx)(s.ModalTitle,{children:"Rename Source"}),(0,a.jsx)(c.p,{autoFocus:!0,onChange:e=>x(e.target.value),required:!0,value:m})]}),(0,a.jsxs)(s.ModalFooter,{children:[(0,a.jsx)(s.ModalClose,{asChild:!0,children:(0,a.jsx)(l.$,{onClick:()=>u(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,a.jsx)(o.Q,{size:"sm",variant:"default",children:"Save"})]})]})}):null}function f(){let{data:e,mutate:r}=(0,n.Ay)("renameSourceModal",null);return{sourceId:null==e?void 0:e.sourceId,sourceName:null==e?void 0:e.sourceName,setSource:r}}},71279:(e,r,t)=>{t.d(r,{G:()=>l});var a=t(80644);function l(){return function(e){let r=(0,a.useRef)(null);return{formRef:r,onKeyDown:t=>{let a=t.currentTarget.value.trim();if(e(t)&&a.length>0){var l;null===(l=r.current)||void 0===l||l.requestSubmit(),t.preventDefault()}}}}(e=>"Enter"===e.key&&(e.ctrlKey||e.metaKey))}t(3879)},93125:(e,r,t)=>{t.r(r),t.d(r,{default:()=>h,useDeleteProjectModal:()=>m});var a=t(7336),l=t(81616),s=t(38559),n=t(59103),o=t(30009);let c=(0,o.createServerReference)("4095b1a7486594638cfa454091b898e272f2c73f82",o.callServer,void 0,o.findSourceMapURL,"deleteProjectAction");var i=t(60358),d=t(15993),u=t(2115),p=t(10299),j=t(88551);function h(){let[e,r]=m(),t=(0,p.useRouter)(),n=(0,p.usePathname)();return(0,a.jsx)(s.Modal,{onOpenChange:e=>!e&&r(null),open:!!e,children:(0,a.jsxs)("form",{action:async()=>{try{let a=await c(e);if(!0===a)r(null),(0,u.u)("ClickDeleteProject",{targetProjectId:null!=e?e:"project-id-missing"}),d.oR.success("Project deleted"),n.startsWith("/chat/projects/".concat(e))&&t.push("/chat/projects");else throw Error(a.error)}catch(e){(0,j.z)(e)||d.oR.error("Failed to delete project")}},children:[(0,a.jsxs)(s.ModalHeader,{children:[(0,a.jsx)(s.ModalTitle,{children:"Delete Project"}),(0,a.jsxs)(s.ModalDescription,{children:["Are you sure you want to delete this project? All chats will be removed from the project, but they wonâ€™t be deleted."," ",(0,a.jsx)("span",{className:"font-medium",children:"This action cannot be reversed."})]})]}),(0,a.jsxs)(s.ModalFooter,{children:[(0,a.jsx)(s.ModalClose,{asChild:!0,children:(0,a.jsx)(l.$,{onClick:()=>r(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,a.jsx)(i.Q,{"data-testid":"delete-project-button",size:"sm",variant:"destructive",children:"Delete"})]})]})})}function m(){let{data:e,mutate:r}=(0,n.Ay)("showDeleteProjectModal",null);return[e,r]}},98898:(e,r,t)=>{t.d(r,{T:()=>o});var a=t(7336),l=t(80644),s=t(4495),n=t(45028);let o=l.forwardRef((e,r)=>{let{className:t,asChild:l=!1,...o}=e,c=l?n.DX:"textarea";return(0,a.jsx)(c,{className:(0,s.cn)("focus-visible:border-alpha-600 disabled:border-alpha-300 bg-background inline-flex min-h-20 w-full shrink-0 rounded-lg border p-3 text-sm outline-none transition-colors file:border-0 placeholder:text-gray-400 disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-400 disabled:ring-0",t),ref:r,...o})});o.displayName="Textarea"},99797:(e,r,t)=>{t.r(r),t.d(r,{default:()=>j,useDeleteSourceModal:()=>h});var a=t(7336),l=t(81616),s=t(38559),n=t(59103),o=t(60358),c=t(15993),i=t(30009);let d=(0,i.createServerReference)("40a7ca15592dd06f8fbe49c6386175ce533213023b",i.callServer,void 0,i.findSourceMapURL,"deleteSource");var u=t(2115),p=t(45419);function j(e){let{projectId:r}=e,[t,n]=h(),{projectId:i}=(0,p.M9)(),j=r||i,{revalidateSources:m}=(0,p.py)(j);return t&&j?(0,a.jsx)(s.Modal,{onOpenChange:e=>!e&&n(null),open:!!t,children:(0,a.jsxs)("form",{action:async()=>{(0,u.u)("ClickDeleteSource",{targetSourceId:t});try{await d({sourceId:t,projectId:j}),m(),c.oR.success("Source deleted")}catch(e){c.oR.error("Failed to delete source")}await n(null)},children:[(0,a.jsxs)(s.ModalHeader,{children:[(0,a.jsx)(s.ModalTitle,{children:"Are you sure you want to delete this source?"}),(0,a.jsx)(s.ModalDescription,{children:"This action cannot be undone."})]}),(0,a.jsxs)(s.ModalFooter,{children:[(0,a.jsx)(s.ModalClose,{asChild:!0,children:(0,a.jsx)(l.$,{onClick:()=>n(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,a.jsx)(o.Q,{size:"sm",variant:"destructive",children:"Delete"})]})]})}):null}function h(){let{data:e,mutate:r}=(0,n.Ay)("deleteSourceModalId",null);return[e,r]}}}]);